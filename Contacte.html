<!DOCTYPE html>
<html lang="ca">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/gif" href="images/general/icono.gif">
    <title>Contacte - Tirallongues</title>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.14.1/dist/cdn.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

    <style>
        :root {
            --color_blue_gray: #5f7e8d;
            --color_turquoise_gray: #5f8d85;
            --color_dark_blue_gray: #5f678d;
            --font-primary: "Poppins", sans-serif;
        }

        * { font-family: var(--font-primary); }

        .fade-in-up {
            animation: fadeInUp 0.5s ease-out forwards;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>

<body class="relative overflow-x-hidden overflow-y-auto min-h-screen bg-white">
    <section class="relative pt-24">
        <header class="flex flex-row bg-[var(--color_blue_gray)]/95 p-4 text-white justify-center items-center font-bold text-lg fixed w-full top-0 left-0 z-50 shadow-lg">
            <div class="basis-1/4">
                <a href="index.html"><img src="images/general/logo.png" alt="logo_tirallongues" class="h-16 w-auto mx-auto" /></a>
            </div>
            <div class="basis-2/4 text-center m-auto text-4xl uppercase">
                <h1>Tirallongues de Manresa</h1>
            </div>
            <div class="w-50 flex justify-center items-center p-2 rounded-full border border-white/50 bg-white/10 mx-auto hover:bg-white/20 transition-colors cursor-pointer">
                <select class="w-full appearance-none bg-transparent text-white cursor-pointer text-center outline-none" id="opciones-select">
                    <option value="" hidden selected class="text-black">Idioma</option>
                    <option class="text-black" value="opc1">Catal</option>
                    <option class="text-black" value="opc2">Castell</option>
                    <option class="text-black" value="opc3">English</option>
                </select>
            </div>
        </header>

        <nav class="flex flex-row p-4 bg-white/90 text-gray-800 justify-center items-center font-bold text-lg uppercase space-x-3 shadow-lg">
            <div class="flex justify-center items-center py-2 bg-transparent border-2 border-[var(--color_turquoise_gray)]/50 hover:bg-[var(--color_turquoise_gray)] hover:text-white rounded-full transition-all">
                <select class="w-full text-center appearance-none bg-transparent px-4 cursor-pointer outline-none" id="colla-select">
                    <option value="" hidden selected>LA COLLA</option>
                    <option value="col1">Qui som?</option>
                    <option value="col2">Integrants de gesti칩</option>
                    <option value="col3">M칰sica</option>
                </select>
            </div>
            <a href="Serveis.html" class="px-8 py-2 border-2 border-[var(--color_turquoise_gray)]/50 hover:bg-[var(--color_turquoise_gray)] hover:text-white rounded-full transition-all">Serveis</a>
            <a href="Noticies.html" class="px-8 py-2 border-2 border-[var(--color_turquoise_gray)]/50 hover:bg-[var(--color_turquoise_gray)] hover:text-white rounded-full transition-all">Not칤cies</a>
            <a href="Contacte.html" class="px-8 py-2 bg-[var(--color_turquoise_gray)] text-white rounded-full transition-all">Contacte</a>
        </nav>
    </section>

    <div class="flex items-center justify-center py-5 bg-gray-50 border-b-4 border-[var(--color_turquoise_gray)]/50">
        <h1 class="text-5xl text-[var(--color_dark_blue_gray)] font-extrabold uppercase tracking-widest text-center">Contacte</h1>
    </div>

    <main class="max-w-4xl mx-auto py-16 px-4">
        <div class="bg-white rounded-2xl shadow-2xl overflow-hidden flex flex-col md:flex-row border border-gray-100">
            <div class="md:w-1/3 bg-[var(--color_dark_blue_gray)] p-8 text-white flex flex-col justify-center">
                <h2 class="text-2xl font-bold mb-6">Parlem-ne!</h2>
                <p class="mb-8 text-blue-100 italic">Tens algun dubte o vols que actuem a la teva festa? Omple el formulari.</p>
                <div class="space-y-4 text-sm">
                    <p>游늸 Carrer Sant Pepitu 57</p>
                    <p>游 678 29 34 90</p>
                    <p>游닎 manrecastells@gmail.com</p>
                </div>
            </div>

            <div class="md:w-2/3 p-8 md:p-12 relative">
                <div id="success-message" class="hidden absolute inset-0 bg-white/95 z-10 flex flex-col items-center justify-center text-center p-6 fade-in-up">
                    <div class="w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                        </svg>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">Enviat amb 칟xit!</h2>
                    <p class="text-gray-600">Ens posarem en contacte amb tu ben aviat.</p>
                    <button onclick="resetForm()" class="mt-6 text-[var(--color_turquoise_gray)] font-bold hover:underline">Enviar un altre missatge</button>
                </div>

                <form id="contact-form" class="space-y-5">
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-1">Nom Complet</label>
                        <input type="text" id="name" required class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[var(--color_turquoise_gray)] focus:border-transparent outline-none transition-all" placeholder="Escriu el teu nom">
                    </div>

                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-1">Correu Electr쑕ic</label>
                        <input type="email" id="email" required class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[var(--color_turquoise_gray)] focus:border-transparent outline-none transition-all" placeholder="exemple@correu.com">
                        <span id="email-error" class="text-red-500 text-xs hidden mt-1">Si us plau, introdueix un email v맓id.</span>
                    </div>

                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-1">Missatge</label>
                        <textarea id="message" rows="4" required class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[var(--color_turquoise_gray)] focus:border-transparent outline-none transition-all" placeholder="Com et podem ajudar?"></textarea>
                    </div>

                    <button type="submit" class="w-full bg-[var(--color_turquoise_gray)] text-white font-bold py-3 rounded-lg hover:bg-[var(--color_dark_blue_gray)] transform hover:-translate-y-1 transition-all shadow-lg uppercase tracking-wider">
                        Enviar Missatge
                    </button>
                </form>
            </div>
        </div>
    </main>

    <script>
        /**
         * ESQUEMA DEL JAVASCRIPT:
         * 1. Captura de elementos del DOM (Formulario, inputs, mensajes).
         * 2. Funci칩n de validaci칩n de Email mediante Regex.
         * 3. Listener del evento 'submit':
         * - Prevenir el env칤o por defecto.
         * - Validar campos.
         * - Si es v치lido, ocultar formulario y mostrar animaci칩n de 칠xito.
         * 4. Funci칩n de Reset para volver al estado inicial.
         */

        const contactForm = document.getElementById('contact-form');
        const emailInput = document.getElementById('email');
        const emailError = document.getElementById('email-error');
        const successMessage = document.getElementById('success-message');

        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email.toLowerCase());
        }

        contactForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Validar Email
            if (!validateEmail(emailInput.value)) {
                emailError.classList.remove('hidden');
                emailInput.classList.add('border-red-500');
                return;
            }

            // Si es v치lido:
            emailError.classList.add('hidden');
            emailInput.classList.remove('border-red-500');

            // Simular env칤o y mostrar mensaje animado
            successMessage.classList.remove('hidden');
        });

        function resetForm() {
            contactForm.reset();
            successMessage.classList.add('hidden');
        }

        // L칩gica de navegaci칩n (com칰n a todas las p치ginas)
        document.getElementById('colla-select').addEventListener('change', function() {
            const routes = { col1: 'QuiSom.html', col2: 'Integrants.html', col3: 'Musica.html' };
            if (routes[this.value]) window.location.href = routes[this.value];
        });
    </script>
</body>
</html>